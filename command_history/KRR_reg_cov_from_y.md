## Run kernel ridge regression

```bash
cd ../KRR
./HCP_KRR_reg_cov_from_y.sh -outdir \
    /home/jingweil/storage/MyProject/fairAI/HCP_race/\ 
    trained_model/split_948sub_AA_matchedWA_rm_AA_outliers18/\
    outputs/l2_0_20_opt_pCOD_reg_AgeSexMtEducIcvInc_from_y
```

## Calculate predictive COD and Pearson's correlation for matched AA and WA separately

```matlab
proj_dir = '/home/jingweil/storage/MyProject/fairAI/HCP_race';
HCP_KRR_pCOD_AAvsWA_matchedBehavior( fullfile(proj_dir, 'trained_model', ...
    'split_948sub_AA_matchedWA_rm_AA_outliers18', 'outputs', ...
    'l2_0_20_opt_pCOD_reg_AgeSexMtEducIcvInc_from_y'), 400, 10, fullfile(proj_dir, ...
    'mat', 'split_AA_948_rm_outliers18'), fullfile(proj_dir, 'mat', ...
    'split_WA_rm_AA_outliers18'), fullfile(proj_dir, 'mat', ...
    'split_WA_rm_AA_outliers18', 'usable_seeds'), fullfile(proj_dir, 'mat', ...
    'AA_WA_diff', 'pCOD_AAvsWA_reg_AgeSexMtEducIcvInc_from_y.mat'), ...
    fullfile(proj_dir, 'mat', 'AA_WA_diff', ...
    'corr_AAvsWA_reg_AgeSexMtEducIcvInc_from_y.mat'), fullfile(proj_dir, 'scripts', 'lists', ...
    'Cognitive_Personality_Task_Social_Emotion_51_matched.txt'), fullfile(proj_dir, ...
    'scripts', 'lists', 'Cognitive_Personality_Task_Social_Emotion_58.txt'), ...
    fullfile(proj_dir, 'scripts', 'lists', 'subjects_wIncome_948.txt') )
```